<!DOCTYPE html>
<html>
<head>
    <title>Gradio Chat Demo</title>
</head>
<body>
    <h1>Gradio Chat Demo1</h1>

    <div id="message-container">
        <label for="message">Message:</label>
        <input type="text" id="message" value="Hello!!">
    </div>

    <button id="generate-button">Generate</button>

    <div id="output-container">
        <label for="output">Output:</label>
        <textarea id="output" rows="5" cols="50" readonly></textarea>
    </div>

    <script>
        const generateButton = document.getElementById("generate-button");
        const messageInput = document.getElementById("message");
        const outputTextarea = document.getElementById("output");

        generateButton.addEventListener("click", async () => {
            const message = messageInput.value;

            const requestOptions = {
                method: 'POST', // or 'GET' depending on the API
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    message: message,
                    temperature: 0,
                    max_tokens: 64,
                    top_p: 0,
                    repetition_penalty: 1
                })
            };

            try {
                const response = await fetch('https://vaderd-nk.hf.space/--replicas/vm66b/chat', requestOptions);

                if (!response.ok) {
                    throw new Error(`Error: ${response.status}`);
                }

                const data = await response.json();
                outputTextarea.value = data;
            } catch (error) {
                console.error(error);
                outputTextarea.value = 'Error: Failed to get response';
            }
        });
    </script>
</body>
</html>
