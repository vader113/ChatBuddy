<!DOCTYPE html>
<html>
<head>
    <title>Gradio Chat Demo</title>
</head>
<body>
    <h1>Gradio Chat Demo</h1>

    <div id="message-container">
        <label for="message">Message:</label>
        <input type="text" id="message" value="Hello!!">
    </div>

    <button id="generate-button">Generate</button>

    <div id="output-container">
        <label for="output">Output:</label>
        <textarea id="output" rows="5" cols="50" readonly></textarea>
    </div>

    <script>
        const generateButton = document.getElementById("generate-button");
        const messageInput = document.getElementById("message");
        const outputTextarea = document.getElementById("output");

        generateButton.addEventListener("click", async () => {
            const message = messageInput.value;

            try {
                const response = await fetch(`/get_response?message=${message}`);
                const data = await response.json();
                outputTextarea.value = data.output;
            } catch (error) {
                console.error(error);
                outputTextarea.value = 'Error: Failed to get response';
            }
        });
    </script>
</body>
</html>
